#  동시에 같은 DB Table row 를 업데이트 하는 상황을 방어하기 위해 어떻게 개발하실 건지 설명해주세요.

업데이트를 먼저 하고 validation이나 조회를 하도록 한다.

‘UPDATE 테이블 JOIN 테이블/(서브쿼리) ON ~ SET ~’처럼 서브 쿼리로 조회한 데이터를 업데이트 하거나, 다른 테이블이나 서브쿼리를 조인한 데이터를 업데이트하는 등의 특수한 UPDATE 구문을 이용할 수 있다.

이렇게 하면 다른 세션에서 이미 동일한 행을 UPDATE 하고 커밋 전이면 락이 걸려 대기한다. 다른 세션에서 커밋하면 락이 풀리고, UPDATE 수행되는 시점에는 아까 그 행이 아니라 그 다음 행을 UPDATE 하게 된다.

또 스레드 세이프한 concurrent의 하위 클래스를 사용하는 것으로 해결할 수도 있다.
